<Page
    x:Class="YourNoteUWP.AccountPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:data="using:YourNoteUWP.Models"
    xmlns:local="using:YourNoteUWP"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="{ThemeResource Light1}"
    mc:Ignorable="d">

    <!--<Page.Resources>
        <DataTemplate x:Key="NotesofUser" x:DataType="data:Note">

            <local:NotesDataTemplate  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

        </DataTemplate>
    </Page.Resources>-->


    <Page.Resources>



        <DataTemplate x:Key="SearchTitle" x:DataType="data:Note">
            <StackPanel
                Margin="10"
                HorizontalAlignment="Center"
                Orientation="Horizontal">

                <TextBlock
                    HorizontalAlignment="Left"
                    FontSize="15"
                    Text="{x:Bind title}" />

            </StackPanel>
        </DataTemplate>



        <DataTemplate x:Key="RecentlySuggested" x:DataType="data:Note">
            <StackPanel
                Margin="10"
                HorizontalAlignment="Center"
                Orientation="Horizontal">

                <TextBlock
                    HorizontalAlignment="Left"
                    FontSize="15"
                    Style="{StaticResource SignUpTextBlocks}"
                    Text="{x:Bind title}" />

            </StackPanel>
        </DataTemplate>
    </Page.Resources>


    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <RelativePanel Grid.Row="0">


            <Image
                Name="UserImage"
                Width="64"
                Height="64"
                PointerEntered="userImage_PointerEntered"
                PointerExited="userImage_PointerExited"
                RelativePanel.AlignLeftWithPanel="True"
                Source="Assets/download.png" />






        </RelativePanel>


        <NavigationView
            Name="Navigation"
            Grid.Row="1"
            FontSize="50"
            IsBackButtonVisible="Collapsed"
            IsPaneOpen="False"
            IsPaneToggleButtonVisible="False"
            IsSettingsVisible="False"
            PaneDisplayMode="Left"
            SelectionChanged="{x:Bind _accountPageViewModel.NavigationSelectionChanged}">


            <NavigationView.MenuItems>




                <NavigationViewItem>
                    <!--<Auto Suggestion Box>-->

                    <RelativePanel Name="CustomAutoSuggestBox" RelativePanel.AlignRightWithPanel="True">
                        <TextBox
                            Name="SearchTextBox"
                            Width="300"
                            Height="50"
                            Background="Black"
                            CornerRadius="12"
                            Foreground="Red"
                            PlaceholderText="Search By Title"
                            Text="{x:Bind _accountPageViewModel.SearchTextBoxText, UpdateSourceTrigger=LostFocus, Mode=TwoWay}"
                            TextChanged="{x:Bind _accountPageViewModel.SearchTextBoxTextChanged, Mode=OneWay}" />
                        <Popup
                            Name="SuggestionsPopup"
                            IsLightDismissEnabled="False"
                            IsOpen="{x:Bind _accountPageViewModel.SuggestionsPopupIsOpen, Mode=OneWay}"
                            RelativePanel.AlignBottomWith="SearchTextBox">
                            <Grid Name="PopUpContainer" Background="#041322">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>


                                <ListBox
                                    Name="RecentSuggested"
                                    ItemTemplate="{StaticResource RecentlySuggested}"
                                    ItemsSource="{x:Bind _accountPageViewModel.RecentSuggestedItemSource}"
                                    SelectedItem="{x:Bind _accountPageViewModel.RecentSuggestedSelectedItem, Mode=OneWay}"
                                    SelectionChanged="{x:Bind _accountPageViewModel.RecentSuggestedSelectionChanged, Mode=OneWay}"
                                    SelectionMode="Single"
                                    Visibility="{x:Bind _accountPageViewModel.RecentSuggestedVisibility, Mode=OneWay}" />




                                <ListView
                                    Name="SearchBoxContent"
                                    Grid.Row="1"
                                    Height="200"
                                    IsItemClickEnabled="True"
                                    ItemClick="{x:Bind _accountPageViewModel.SearchBoxContainerItemClick, Mode=OneWay}"
                                    ItemContainerStyle="{StaticResource LoginListViewItem}"
                                    ItemTemplate="{StaticResource SearchTitle}"
                                    ItemsSource="{x:Bind _accountPageViewModel.SearchBoxContentItemSource, Mode=OneWay}"
                                    Style="{StaticResource SearchContainerStyle}"
                                    Visibility="{x:Bind _accountPageViewModel.SearchBoxContentVisibility, Mode=OneWay}" />

                            </Grid>

                        </Popup>
                    </RelativePanel>
                </NavigationViewItem>

                <NavigationViewItem
                    Name="PersonalContent"
                    Content="Personal"
                    IsSelected="{x:Bind _accountPageViewModel.PersonalContentIsSelected, Mode=OneWay}"
                    Tag="Personal">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8D4;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>


                <NavigationViewItem
                    Name="SharedContent"
                    Content="Shared"
                    IsSelected="{x:Bind _accountPageViewModel.SharedContentIsSelected, Mode=OneWay}"
                    Tag="Shared">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xEBDA;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItem
                    Name="NoteCreation"
                    Content="Add Note"
                    IsSelected="{x:Bind _accountPageViewModel.NoteCreationIsSelected, Mode=OneWay}"
                    Tag="Add a New Note">
                    <NavigationViewItem.Icon>
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xF164;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <NavigationView.PaneFooter>

                <NavigationViewItem
                    Name="LogoutContent"
                    Content="Logout"
                    Foreground="Red"
                    Tag="Logout"
                    Tapped="{x:Bind _accountPageViewModel.LogoutContentTapped, Mode=OneWay}">
                    <NavigationViewItem.Icon>
                        <FontIcon
                            FontFamily="Segoe MDL2 Assets"
                            Foreground="Red"
                            Glyph="&#xF3B1;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>


            </NavigationView.PaneFooter>


            <NavigationView.Content>


                <GridView
                    Name="NotesData"
                    Margin="5"
                    HorizontalAlignment="Stretch"
                    IsItemClickEnabled="True"
                    ItemClick="{x:Bind _accountPageViewModel.NotesDataItemClick, Mode=OneWay}"
                    ItemContainerStyle="{StaticResource NoteGridViewItem}"
                    ItemsSource="{x:Bind _accountPageViewModel.NotesDataItemSource, Mode=OneWay}"
                    Style="{StaticResource NoteGridView}">

                    <GridView.ItemTemplate>
                        <DataTemplate x:DataType="data:Note">
                            <local:NotesDataTemplate />


                        </DataTemplate>
                    </GridView.ItemTemplate>
                </GridView>


            </NavigationView.Content>
        </NavigationView>

        <Popup
            Name="NoteDisplayPopUp"
            IsLightDismissEnabled="False"
            IsOpen="{x:Bind _accountPageViewModel.NoteDisplayPopUpIsOpen, Mode=OneWay}">

            <local:NoteContent x:Name="NoteContentPopUp" />
        </Popup>
    </Grid>

</Page>
<!--  Header="Users"  -->